{"ast":null,"code":"import _defineProperty from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/src/components/SignUp/SignUp.js\";\nimport React, { Component } from 'react'; // import { BrowserRouter as  Redirect } from \"react-router-dom\";\n\nimport API from \"../../utils/API\";\nimport { Input, Button } from \"../../components/Form\";\nimport \"./signup.css\";\n\nvar SignUp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUp, _Component);\n\n  function SignUp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignUp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignUp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      username: \"\",\n      newUserId: \"\",\n      resCheckUser: \"\"\n    };\n\n    _this.handleInputChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n\n      if (_this.state.name && _this.state.email && _this.state.password) {\n        var sendEmail = function sendEmail() {\n          if (!this.state.resCheckUser.data.confirmed) {\n            API.sendWelcomeEmail(this.state.name, this.state.email, this.state.resCheckUser.data._id);\n          }\n        };\n\n        var newUser = {\n          name: _this.state.name,\n          email: _this.state.email,\n          password: _this.state.password\n        };\n        API.checkUser(newUser).then(function (res) {\n          return _this.setState({\n            userSuccessPopUp: true,\n            resCheckUser: res\n          });\n        }, function () {\n          return sendEmail();\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      } else {\n        alert(\"Please fill in your name, email, and password.\");\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(SignUp, [{\n    key: \"render\",\n    // redirect = () => {\n    //   this.props.fetchUser();\n    //   API.fetchUser()\n    //     .then(res => {\n    //       if (res.data) {\n    //         this.props.history.push(\"/myaccount\");\n    //       }\n    //     })\n    // };\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.state.resCheckUser);\n      return React.createElement(\"div\", {\n        className: \"signup-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, !this.state.userSuccessPopUp ? React.createElement(\"form\", {\n        className: \"sign-up-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-continer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \" name \"), React.createElement(Input, {\n        id: \"name\",\n        name: \"name\",\n        value: this.state.name,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"input-continer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \" email\"), React.createElement(Input, {\n        id: \"email\",\n        placeholder: \"John@Smith.com\",\n        name: \"email\",\n        type: \"email\",\n        value: this.state.email,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"input-continer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \" password \"), React.createElement(Input, {\n        id: \"password\",\n        placeholder: \"password\",\n        name: \"password\",\n        type: \"password\",\n        value: this.state.password,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })), React.createElement(Button, {\n        className: \"form-button\",\n        onClick: function onClick(event) {\n          return _this2.handleFormSubmit(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \" Sign Up\")) : React.createElement(\"div\", {\n        className: \"success-msg-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"success-msg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, this.state.resCheckUser.data.signUpMessage)));\n    }\n  }]);\n\n  return SignUp;\n}(Component);\n\n;\nexport default SignUp;","map":{"version":3,"sources":["/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/src/components/SignUp/SignUp.js"],"names":["React","Component","API","Input","Button","SignUp","state","name","email","password","username","newUserId","resCheckUser","handleInputChange","event","target","value","setState","handleFormSubmit","preventDefault","sendEmail","data","confirmed","sendWelcomeEmail","_id","newUser","checkUser","then","res","userSuccessPopUp","catch","err","console","log","alert","signUpMessage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import { BrowserRouter as  Redirect } from \"react-router-dom\";\nimport API from \"../../utils/API\";\nimport {Input, Button} from \"../../components/Form\"\nimport \"./signup.css\";\n\n\nclass SignUp extends Component {\n  state = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    username: \"\",\n    newUserId:\"\",\n    resCheckUser: \"\"\n  }\n\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.name && this.state.email && this.state.password) {\n      const newUser = {\n        name: this.state.name,\n        email: this.state.email,\n        password: this.state.password,\n      }\n\n      function sendEmail() {\n         if(!this.state.resCheckUser.data.confirmed){\n          API.sendWelcomeEmail(this.state.name, this.state.email, this.state.resCheckUser.data._id)\n         }\n      }\n\n\n\n      API.checkUser(newUser)\n        .then(res =>    \n        this.setState({\n          userSuccessPopUp:true,\n          resCheckUser: res\n        }), () => sendEmail()\n         )\n        .catch(err => console.log(err))\n        \n    } else {\n      alert(\"Please fill in your name, email, and password.\")\n    }\n\n   \n  };\n\n  \n  // redirect = () => {\n  //   this.props.fetchUser();\n  //   API.fetchUser()\n  //     .then(res => {\n  //       if (res.data) {\n  //         this.props.history.push(\"/myaccount\");\n  //       }\n  //     })\n  // };\n\n\n  render() {\n    console.log(this.state.resCheckUser)\n    return (\n <div className=\"signup-page\">\n         {!this.state.userSuccessPopUp ?\n          <form className=\"sign-up-form\">\n            <div className=\"input-continer\">\n                    <label className=\"label\"> name </label>\n                    <Input\n                    id=\"name\"\n                    name=\"name\"\n                    value={this.state.name}\n                    onChange={this.handleInputChange}\n                  >\n                  </Input>\n            </div>\n           \n            <div className=\"input-continer\">\n                <label className=\"label\"> email</label>\n                <Input\n                  id=\"email\"\n                  placeholder=\"John@Smith.com\"\n                  name=\"email\"\n                  type=\"email\"\n                  value={this.state.email}\n                  onChange={this.handleInputChange}\n                >\n                </Input>\n             </div>\n           \n           \n             <div className=\"input-continer\">\n                    <label className=\"label\"> password </label>\n                    <Input\n                      id=\"password\"\n                      placeholder=\"password\"\n                      name=\"password\"\n                      type=\"password\"\n                      value={this.state.password}\n                      onChange={this.handleInputChange}\n                    >\n                    </Input>\n              </div>\n            {/* <Input\n              label=\"role\"\n              id=\"role\"\n              placeholder=\"role\"\n              name=\"role\"\n              type=\"role\"\n              value={this.state.role}\n              onChange={this.handleInputChange}\n            ></Input> */}\n            <Button className=\"form-button\" onClick={(event) => this.handleFormSubmit(event)}> Sign Up\n            </Button>\n       \n          </form> : <div className=\"success-msg-container\"> \n                      <p className=\"success-msg\">{this.state.resCheckUser.data.signUpMessage}</p> \n                    </div>}\n        </div>\n    )\n  }\n};\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}