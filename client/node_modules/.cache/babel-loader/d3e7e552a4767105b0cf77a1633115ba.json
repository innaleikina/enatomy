{"ast":null,"code":"import _classCallCheck from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/src/pages/MyAccount/MyAccount.js\";\nimport React, { Component } from 'react';\nimport API from \"../../utils/API\";\nimport \"./MyAccount.css\";\nimport { Link } from 'react-router-dom';\nimport CoverPhoto from '../../components/CoverPhoto';\n\nvar MyAccount =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MyAccount, _Component);\n\n  function MyAccount() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MyAccount);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MyAccount)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      user: \"\",\n      purchased: \"\",\n      allS3Files: [],\n      imagesPurchased: []\n    };\n\n    _this.getFiles = function () {\n      //  console.log(\"files were gotten!\")\n      API.getFiles().then(function (res) {\n        return _this.setState({\n          allS3Files: res.data\n        });\n      }).then(function (res) {\n        return _this.getPurchasedImages();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.getUser = function () {\n      API.fetchUser().then(function (res) {\n        return _this.setState({\n          user: res.data,\n          purchased: res.data.purchased\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.getPurchasedImages = function () {\n      //  console.log(\"got images in cart!\")\n      var s3FilesArr = [];\n      var purchased = _this.state.purchased;\n\n      for (var i = 0; i < _this.state.allS3Files.length; i++) {\n        s3FilesArr.push(_this.state.allS3Files[i].filename);\n      }\n\n      _this.setState({\n        imagesPurchased: s3FilesArr.filter(function (value) {\n          return -1 !== purchased.indexOf(value);\n        })\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(MyAccount, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.getUser();\n      this.getFiles();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"timeline-wrap\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"top-account\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"title-account\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \" \", this.state.user.name, \"'s account \"), React.createElement(\"div\", {\n        className: \"buttons-containe-account\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"button-account\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \" change password \"), React.createElement(\"button\", {\n        className: \"button-account\",\n        id: \"delete-account\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \" delete account \"))), React.createElement(\"div\", {\n        className: \"purchased-sets\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"title-sets\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \" Purchased Sets \"), React.createElement(\"div\", {\n        className: \"purchased-all-imgs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, this.state.imagesPurchased.length > 0 ? this.state.imagesPurchased.map(function (image, index) {\n        return React.createElement(\"div\", {\n          className: \"purchased-img\",\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(Link, {\n          key: index,\n          to: \"/set/\".concat(image),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(CoverPhoto, {\n          id: \"purchased-img-border\",\n          key: index,\n          fileName: image,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        })));\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"You haven't purchased any sets yet\"))));\n    }\n  }]);\n\n  return MyAccount;\n}(Component);\n\nexport default MyAccount;","map":{"version":3,"sources":["/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/src/pages/MyAccount/MyAccount.js"],"names":["React","Component","API","Link","CoverPhoto","MyAccount","state","user","purchased","allS3Files","imagesPurchased","getFiles","then","res","setState","data","getPurchasedImages","catch","err","console","log","getUser","fetchUser","s3FilesArr","i","length","push","filename","filter","value","indexOf","name","map","image","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport API from \"../../utils/API\";\nimport \"./MyAccount.css\";\nimport { Link } from 'react-router-dom';\nimport CoverPhoto from '../../components/CoverPhoto';\n\n\n\n\nclass MyAccount extends Component {\n    state = {\n       user:\"\",\n       purchased:\"\",\n       allS3Files:[],\n       imagesPurchased:[]\n      }\n\n    componentWillMount() {\n        this.getUser();\n        this.getFiles();\n     }\n\n     getFiles = () => {\n      //  console.log(\"files were gotten!\")\n      API.getFiles() \n        .then(res => this.setState({\n          allS3Files:res.data\n        }))\n        .then(res => this.getPurchasedImages())\n        .catch(err => console.log(err))\n    };\n \n\n    getUser = () => {\n        API.fetchUser() \n          .then(res => this.setState({\n            user:res.data,\n            purchased:res.data.purchased \n          }))\n          .catch(err => console.log(err))\n      };\n  \n\n      getPurchasedImages = () => {\n        //  console.log(\"got images in cart!\")\n        let s3FilesArr = []\n        let purchased = this.state.purchased;\n         for (var i = 0; i < this.state.allS3Files.length; i++){\n            s3FilesArr.push(this.state.allS3Files[i].filename);\n        }\n          this.setState({\n          imagesPurchased:s3FilesArr.filter(value => -1 !== purchased.indexOf(value))\n        }) \n       }\n\n  render() {\n    return (\n        <div id=\"timeline-wrap\" >\n\n          <div className=\"top-account\">\n              <span className=\"title-account\"> {this.state.user.name}'s account </span>\n              \n              \n\n              {/* when button is clicked a pop up shows up to change password */}\n              <div className=\"buttons-containe-account\">\n                  <button className=\"button-account\"> change password </button>\n\n                    { /* pop up to confirm */}\n                    <button className=\"button-account\" id=\"delete-account\"> delete account </button>\n              </div>\n           </div>\n          \n           {/* render sets that have been purchased before, if lcicked go to imgae page */}\n           <div className=\"purchased-sets\">\n              <h4 className=\"title-sets\"> Purchased Sets </h4>\n              <div className=\"purchased-all-imgs\">\n                  {(this.state.imagesPurchased.length > 0) ? \n                          this.state.imagesPurchased.map((image,index) => (\n                            <div className=\"purchased-img\" key={index}>\n                              <Link key={index} to={`/set/${image}`}>\n                                  <CoverPhoto id=\"purchased-img-border\" key={index} fileName={image}>\n                                  </CoverPhoto>\n                              </Link> \n                            </div>\n                          ))\n                          : <div>You haven't purchased any sets yet</div>}\n              </div>\n           </div>\n        </div>\n\n\n    );\n  }\n}\nexport default MyAccount"]},"metadata":{},"sourceType":"module"}