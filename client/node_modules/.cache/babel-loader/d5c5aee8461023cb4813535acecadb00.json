{"ast":null,"code":"import _defineProperty from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/src/components/SignIn/SignIn.js\";\nimport React, { Component } from 'react';\nimport API from \"../../utils/API\"; // import { withRouter } from 'react-router-dom'\n\nimport { Input, Button } from \"../../components/Form\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./signin.css\";\n\nvar SignIn =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignIn, _Component);\n\n  function SignIn() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignIn);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignIn)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: \"\",\n      username: \"\",\n      passwordLogin: \"\",\n      loggedIn: false\n    };\n\n    _this.handleInputChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleLogin = function (event) {\n      event.preventDefault(); // console.log(\"handling login\")\n      //if username and password inputs have been filled...\n\n      if (_this.state.username && _this.state.passwordLogin) {\n        var loginUser = {\n          username: _this.state.username,\n          password: _this.state.passwordLogin //hit the API file, getUser method and pass the login user information\n\n        };\n        API.getUser(loginUser).then(function (res) {\n          if (typeof res.data === \"string\") {\n            alert(\"Incorrect email or password.\");\n          } else {\n            console.log(_this.props);\n\n            _this.props.fetchUser(); // put a times ui element here to acknowledge successful log in?\n            // alert(\"welcome!\")\n\n\n            _this.setState({\n              loggedIn: true\n            });\n          }\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      } else {\n        alert(\"Please input both your email and password.\");\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(SignIn, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // if(this.state.loggedIn === true){\n      //   return <Redirect to=\"/myaccount\"/>\n      // }\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"sign-in-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-continer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \" email \"), React.createElement(Input, {\n        className: \"input\",\n        id: \"username\",\n        placeholder: \"john@smith.com\",\n        type: \"email\",\n        name: \"username\",\n        value: this.state.username,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"input-continer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \" password \"), React.createElement(Input, {\n        className: \"input\",\n        id: \"passwordLogin\",\n        placeholder: \"password\",\n        name: \"passwordLogin\",\n        type: \"password\",\n        value: this.state.passwordLogin,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })), React.createElement(Button, {\n        className: \"form-button\",\n        onClick: function onClick(event) {\n          return _this2.handleLogin(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \" Sign In \"), React.createElement(Button, {\n        className: \"pass-reset-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \" forgot password? \")));\n    }\n  }]);\n\n  return SignIn;\n}(Component);\n\n;\nexport default SignIn;","map":{"version":3,"sources":["/Users/bradleyjones/Desktop/code/eNatomy/enatomy-app/client/src/components/SignIn/SignIn.js"],"names":["React","Component","API","Input","Button","Redirect","SignIn","state","email","username","passwordLogin","loggedIn","handleInputChange","event","target","name","value","setState","handleLogin","preventDefault","loginUser","password","getUser","then","res","data","alert","console","log","props","fetchUser","catch","err"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport API from \"../../utils/API\";\n// import { withRouter } from 'react-router-dom'\nimport {Input, Button} from \"../../components/Form\"\nimport { Redirect} from \"react-router-dom\";\nimport \"./signin.css\";\n\n\n\n\n\nclass SignIn extends Component {\n  state = {\n    email: \"\",\n    username: \"\",\n    passwordLogin: \"\",\n    loggedIn:false\n  }\n\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  //handling user login\n  handleLogin = (event) => {\n    event.preventDefault();\n    // console.log(\"handling login\")\n    //if username and password inputs have been filled...\n    if (this.state.username && this.state.passwordLogin) {\n      const loginUser = {\n        username: this.state.username,\n        password: this.state.passwordLogin\n      }\n      //hit the API file, getUser method and pass the login user information\n      API.getUser(loginUser)\n        .then(res => {\n          if(typeof(res.data) === \"string\") {\n            \n            alert(\"Incorrect email or password.\")\n          } else {\n            console.log(this.props)\n            this.props.fetchUser();\n            // put a times ui element here to acknowledge successful log in?\n           // alert(\"welcome!\")\n            this.setState({\n              loggedIn:true\n            })               \n          \n          }})\n        .catch(err => console.log(err));\n    } else {\n      alert(\"Please input both your email and password.\") \n    }\n  };\n\n\n\n  render() {\n  // if(this.state.loggedIn === true){\n  //   return <Redirect to=\"/myaccount\"/>\n  // }\n    return (\n       <div >\n          <form className=\"sign-in-form\">\n\n         <div className=\"input-continer\">\n             <label className=\"label\"> email </label>\n             <Input\n                 className = \"input\"\n                 id=\"username\"\n                 placeholder=\"john@smith.com\"\n                 type=\"email\"\n                 name=\"username\"\n                 value={this.state.username}\n                 onChange={this.handleInputChange}\n               >\n               </Input>\n           </div>\n\n\n           <div className=\"input-continer\">\n               <label className=\"label\"> password </label>\n               <Input\n               className = \"input\"\n\n                 id=\"passwordLogin\"\n                 placeholder=\"password\"\n                 name=\"passwordLogin\"\n                 type=\"password\"\n                 value={this.state.passwordLogin}\n                 onChange={this.handleInputChange}\n               >\n               \n               </Input>\n           </div>\n           <Button className=\"form-button\" onClick={(event) => this.handleLogin(event)}> Sign In </Button>\n            <Button className=\"pass-reset-btn\"> forgot password? </Button>\n       </form>\n\n\n     </div>\n   )\n  }\n};\n\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}